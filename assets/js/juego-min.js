(()=>{"use strict";let e=[],t=["C","D","H","S"],n=["A","J","Q","K"],a=0,r=0,d=document.querySelector("#btnNuevo"),l=document.querySelector("#btnPedir"),o=document.querySelector("#btnDetener"),i=document.querySelector("#puntosJugador"),s=document.querySelector("#puntosComputadora"),u=document.querySelector("#jugador-cartas"),c=document.querySelector("#computadora-cartas"),g=document.getElementById("btnNuevoJuegoModal"),b=document.getElementById("btnCerrarModal"),m=document.getElementById("mensajeResultado"),p=document.getElementById("resultadoModal"),$=document.getElementById("puntajeFinalJugador"),y=document.getElementById("puntajeFinalComputadora"),h=()=>{for(let a=2;a<=10;a++)for(let r of t)e.push(a+r);for(let d of t)for(let l of n)e.push(l+d);return _.shuffle(e)};h();let E=()=>0===e.length?"No hay cartas en el deck":e.pop(),C=e=>{let t=e.substring(0,e.length-1);return isNaN(t)?"A"===t?11:10:1*t},f=()=>{$.textContent=a,y.textContent=r,r===a?(m.textContent="Nadie gana",p.removeAttribute("hidden")):a>21?(m.textContent="Computadora gana",p.removeAttribute("hidden")):r>21?(m.textContent="Jugador gana",p.removeAttribute("hidden")):r>a&&(m.textContent="Computadora gana",p.removeAttribute("hidden"))},v=e=>{do{let t=E(),n=C(t);r+=n,s.innerText=r;let a=document.createElement("img");a.src=`./assets/cartas/${t}.png`,a.classList.add("carta"),c.append(a),f()}while(r<e&&e<=21)},x=()=>{e=[],a=0,r=0,u.innerHTML="",c.innerHTML="",i.innerText=0,s.innerText=0,l.disabled=!1,o.disabled=!1,h()};l.addEventListener("click",()=>{let e=E(),t=C(e);a+=t,i.innerText=a;let n=document.createElement("img");n.src=`./assets/cartas/${e}.png`,n.classList.add("carta"),u.append(n),a>21?(l.disabled=!0,o.disabled=!0,v(a)):21===a&&(l.disabled=!0,o.disabled=!0,v(a))}),o.addEventListener("click",()=>{l.disabled=!0,o.disabled=!0,v(a)}),d.addEventListener("click",()=>{x()}),g.addEventListener("click",function(){x(),p.setAttribute("hidden",!0)}),b.addEventListener("click",function(){p.setAttribute("hidden",!0)})})();